{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicol\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\certa\\\\front\\\\certa\\\\src\\\\Pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { db } from '';\nimport { collection, onSnapshot, getDoc, doc } from 'firebase/firestore';\n\n// HOME SERÁ A PAGINA QUE MOSTRARA PARA O USUARIO TODOS OS DESAFIOS QUE FORAM POSTADOS\n// ++ MONTAR A LOGICA DE MOSTRAR OS DESAFIOS MAIS RECENTES \n// ++ MONTAR A LOGICA DE VER QUAIS DESAFIOS AINDA ESTÃO DISPONIVEIS PARA SEREM SOLUCIONADOS\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const [desafios, setDesafios] = useState([]);\n  useEffect(() => {\n    const mostrarDesafios = async () => {\n      const colecaoDesafio = collection(db, 'desafios');\n      const mostrarSolucoes = onSnapshot(colecaoDesafio, async desafiosSnapShot => {\n        const listaDesafios = await Promise.all(desafiosSnapShot.docs.map(async desafioDoc => {\n          const desafioData = desafioDoc.data();\n          const solucaoLista = await Promise.all((desafioData.solucoes || []).map(async solucaoId => {\n            const solucaoDoc = await getDoc(doc(db, \"solucoes\", solucaoId));\n            return {\n              id: solucaoDoc.id,\n              ...solucaoDoc.data()\n            };\n          }));\n          const dataLimite = desafioData.dataLimite && desafioData.dataLimite.toDate ? desafioData.dataLimite.toDate() : null;\n          return {\n            id: desafioDoc.id,\n            desafio: desafioData.desafio,\n            descricao: desafioData.descricao,\n            criterios: desafioData.criterios,\n            autorId: desafioData.autorId,\n            dataLimite: dataLimite,\n            recompensa: desafioData.recompensa,\n            solucoes: solucaoLista.filter(solucao => solucao)\n          };\n        }));\n        setDesafios(listaDesafios);\n      });\n      return () => mostrarSolucoes();\n    };\n    mostrarDesafios();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n      children: \"ESTA PAGINA DEVE MOSTRAR TODOS OS DESAFIOS COMO UMA PAGINA INICIAL \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), desafios.map(desafio => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Nome Desafio: \", desafio.desafio]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Descricao Desafio: \", desafio.descricao]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Data Limite: \", desafio.dataLimite ? desafio.dataLimite.toLocaleDateString(\"pt-BR\") : \"Sem data limite\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Recompensa: \", desafio.recompensa]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Criterios: \", desafio.criterios]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Autor: \", desafio.autorId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Solu\\xE7\\xF5es:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), desafio.solucoes.map(solucao => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: solucao.solucao\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 52\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: solucao.usuario\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this)]\n        }, solucao.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, desafio.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"MtiieBFv/L3UtyVFIrWodgAjBwQ=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","db","collection","onSnapshot","getDoc","doc","jsxDEV","_jsxDEV","Home","_s","desafios","setDesafios","mostrarDesafios","colecaoDesafio","mostrarSolucoes","desafiosSnapShot","listaDesafios","Promise","all","docs","map","desafioDoc","desafioData","data","solucaoLista","solucoes","solucaoId","solucaoDoc","id","dataLimite","toDate","desafio","descricao","criterios","autorId","recompensa","filter","solucao","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleDateString","usuario","_c","$RefreshReg$"],"sources":["C:/Users/nicol/OneDrive/Área de Trabalho/certa/front/certa/src/Pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db } from '';\r\nimport { collection, onSnapshot, getDoc, doc } from 'firebase/firestore';\r\n\r\n// HOME SERÁ A PAGINA QUE MOSTRARA PARA O USUARIO TODOS OS DESAFIOS QUE FORAM POSTADOS\r\n// ++ MONTAR A LOGICA DE MOSTRAR OS DESAFIOS MAIS RECENTES \r\n// ++ MONTAR A LOGICA DE VER QUAIS DESAFIOS AINDA ESTÃO DISPONIVEIS PARA SEREM SOLUCIONADOS\r\n\r\nfunction Home() {\r\n  const [desafios, setDesafios] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    const mostrarDesafios = async () => {\r\n\r\n      const colecaoDesafio = collection(db, 'desafios')\r\n\r\n      const mostrarSolucoes = onSnapshot(colecaoDesafio, async (desafiosSnapShot) => {\r\n        const listaDesafios = await Promise.all(\r\n          desafiosSnapShot.docs.map(async (desafioDoc) => {\r\n            const desafioData = desafioDoc.data();\r\n\r\n            const solucaoLista = await Promise.all(\r\n              (desafioData.solucoes || []).map(async (solucaoId) => {\r\n                const solucaoDoc = await getDoc(doc(db, \"solucoes\", solucaoId));\r\n                return { id: solucaoDoc.id, ...solucaoDoc.data() };\r\n              })\r\n            );\r\n\r\n            const dataLimite = desafioData.dataLimite && desafioData.dataLimite.toDate \r\n              ? desafioData.dataLimite.toDate() \r\n              : null;\r\n\r\n            return {\r\n              id: desafioDoc.id,\r\n              desafio: desafioData.desafio,\r\n              descricao: desafioData.descricao,\r\n              criterios: desafioData.criterios,\r\n              autorId: desafioData.autorId,\r\n              dataLimite: dataLimite,\r\n              recompensa: desafioData.recompensa,\r\n              solucoes: solucaoLista.filter((solucao) => solucao),\r\n            };\r\n          })\r\n        );\r\n\r\n        setDesafios(listaDesafios);\r\n      });\r\n\r\n      return () => mostrarSolucoes();\r\n    };\r\n\r\n    mostrarDesafios();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <strong>ESTA PAGINA DEVE MOSTRAR TODOS OS DESAFIOS COMO UMA PAGINA INICIAL </strong>\r\n      {desafios.map((desafio) => (\r\n        <div key={desafio.id}>\r\n          <h1>Nome Desafio: {desafio.desafio}</h1>\r\n          <p>Descricao Desafio: {desafio.descricao}</p>\r\n          <p>Data Limite: {desafio.dataLimite ? desafio.dataLimite.toLocaleDateString(\"pt-BR\") : \"Sem data limite\"}</p>\r\n          <p>Recompensa: {desafio.recompensa}</p>\r\n          <p>Criterios: {desafio.criterios}</p>\r\n          <p>Autor: {desafio.autorId}</p>\r\n          <ul>\r\n            <strong>Soluções:</strong>\r\n            {desafio.solucoes.map((solucao) => (\r\n              <li key={solucao.id}>\r\n                <strong>{solucao.solucao}</strong> <br />\r\n                <strong>{solucao.usuario}</strong>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}