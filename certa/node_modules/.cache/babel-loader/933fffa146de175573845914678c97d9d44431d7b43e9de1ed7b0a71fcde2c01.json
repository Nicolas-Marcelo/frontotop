{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicol\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\certa\\\\front\\\\certa\\\\src\\\\DataManipulation\\\\AdicionarSolucao.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { auth, db } from '../Firebase/FirebaseConfig';\nimport { collection, addDoc, updateDoc, getDocs, doc, arrayUnion } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Solucoes() {\n  _s();\n  const [desafioSelecionado, setDesafioSelecionado] = useState('');\n  const [solucao, setSolucao] = useState('');\n  const [desafios, setDesafios] = useState([]);\n  useEffect(() => {\n    const todosDesafios = async () => {\n      const desafioColecao = collection(db, 'desafios');\n      const desafioSnapShot = await getDocs(desafioColecao);\n      const desafioLista = desafioSnapShot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setDesafios(desafioLista);\n    };\n    todosDesafios();\n  }, []);\n  const usuario = auth.currentUser;\n  const adicionarSolucao = async e => {\n    e.preventDefault();\n    try {\n      const adicionar = await addDoc(collection(db, 'solucoes'), {\n        user: usuario.uid,\n        solucao: solucao,\n        desafioId: desafioSelecionado,\n        data: new Date().toISOString()\n      });\n      const desafioRef = doc(db, 'desafios', desafioSelecionado);\n      await updateDoc(desafioRef, {\n        solucoes: arrayUnion(adicionar.id)\n      });\n      setSolucao('');\n    } catch (error) {\n      console.log('Algo deu errado na aba Adicionar Solução:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      value: desafioSelecionado,\n      onChenge: e => setDesafioSelecionado(e.target.value),\n      required: true,\n      children: desafios.map(index => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: index.id,\n        children: index.desafio\n      }, index.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"Digite seu comentario\",\n      value: solucao,\n      onChenge: e => setSolucao(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: adicionarSolucao,\n      children: \"Adicionar Solucao\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Solucoes, \"Wkihs4esxOpMLANw67CsoxfoRao=\");\n_c = Solucoes;\nexport default Solucoes;\nvar _c;\n$RefreshReg$(_c, \"Solucoes\");","map":{"version":3,"names":["React","useState","useEffect","auth","db","collection","addDoc","updateDoc","getDocs","doc","arrayUnion","jsxDEV","_jsxDEV","Solucoes","_s","desafioSelecionado","setDesafioSelecionado","solucao","setSolucao","desafios","setDesafios","todosDesafios","desafioColecao","desafioSnapShot","desafioLista","docs","map","id","data","usuario","currentUser","adicionarSolucao","e","preventDefault","adicionar","user","uid","desafioId","Date","toISOString","desafioRef","solucoes","error","console","log","children","value","onChenge","target","required","index","desafio","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/nicol/OneDrive/Área de Trabalho/certa/front/certa/src/DataManipulation/AdicionarSolucao.js"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { auth, db } from '../Firebase/FirebaseConfig';\r\nimport { collection, addDoc, updateDoc, getDocs, doc, arrayUnion } from \"firebase/firestore\";\r\n\r\nfunction Solucoes () {\r\n  const [desafioSelecionado, setDesafioSelecionado] = useState('');\r\n  const [solucao, setSolucao] = useState('');\r\n  const [desafios, setDesafios] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const todosDesafios = async () => {\r\n      const desafioColecao = collection(db, 'desafios');\r\n      const desafioSnapShot = await getDocs(desafioColecao);\r\n      const desafioLista = desafioSnapShot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setDesafios(desafioLista);\r\n    };\r\n    todosDesafios();\r\n  }, []); \r\n\r\n  const usuario = auth.currentUser;\r\n\r\n  const adicionarSolucao = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const adicionar = await addDoc(collection(db, 'solucoes'), {\r\n        user: usuario.uid,\r\n        solucao: solucao,\r\n        desafioId: desafioSelecionado,\r\n        data: new Date().toISOString(),\r\n      });\r\n\r\n      const desafioRef = doc(db, 'desafios', desafioSelecionado);\r\n      await updateDoc(desafioRef, {\r\n        solucoes: arrayUnion(adicionar.id)\r\n      });\r\n\r\n      setSolucao('');\r\n\r\n    } catch (error) {\r\n      console.log('Algo deu errado na aba Adicionar Solução:', error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <select\r\n        value={desafioSelecionado}\r\n        onChenge={(e) => setDesafioSelecionado(e.target.value)}\r\n        required >\r\n          {desafios.map((index) => (\r\n            <option key={index.id} value={index.id}>\r\n              {index.desafio}\r\n            </option>\r\n          ))}\r\n      </select>\r\n\r\n      <textarea \r\n        placeholder='Digite seu comentario'\r\n        value={solucao}\r\n        onChenge={(e) => setSolucao(e.target.value)}/>\r\n\r\n        <button onClick={adicionarSolucao}>Adicionar Solucao</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Solucoes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}